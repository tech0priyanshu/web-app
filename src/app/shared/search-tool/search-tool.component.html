<!--
  Copyright since 2025 Mifos Initiative

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.
-->

<div class="flex-100 layout-row">
  @if (searchVisible) {
    <div class="search-bar flex-90 layout-row hide-lt-sm" [@fadeInOut]>
      <mat-form-field class="search flex-45">
        <mat-label>{{ 'labels.text.Search' | translate }}</mat-label>
        <input matInput type="text" [formControl]="query" (keydown.enter)="search()" />
      </mat-form-field>
      <mat-form-field class="resource flex-50">
        <mat-label>{{ 'labels.inputs.Resource' | translate }}</mat-label>
        <mat-select [formControl]="resource">
          @for (option of resourceOptions; track option) {
            <mat-option [value]="option.value">
              {{ 'labels.text.' + option.name | translate }}
            </mat-option>
          }
        </mat-select>
      </mat-form-field>
    </div>
  }

  <div class="search-icon flex-10">
    <button mat-icon-button (click)="toggleSearchVisibility()" class="hide-lt-sm">
      <fa-icon icon="search" size="lg" matTooltip="{{ 'labels.text.Search' | translate }}"></fa-icon>
    </button>
  </div>
</div>
